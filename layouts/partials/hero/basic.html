{{ $disableImageOptimization := .Page.Site.Params.disableImageOptimization | default false }}

{{- $images := .Resources.ByType "image" -}}
{{- $featured := $images.GetMatch "*background*" -}}
{{- if not $featured }}{{ $featured = $images.GetMatch "*feature*" }}{{ end -}}
{{- if not $featured }}{{ $featured = $images.GetMatch "{*cover*,*thumbnail*}" }}{{ end -}}
{{- $featured := partial "inline/hero/get-hero-image.html" (dict "context" . "imageSrc" $featured) -}}

{{ $processedImage := partial "inline/hero/process-image.html" (dict
  "imageObj" $featured
  "imageWidth" ($.Site.Params.backgroundImageWidth | default "1200")
  "disableImageOptimization" $disableImageOptimization
  )
}}
{{ $imageURL := $processedImage.RelPermalink | safeHTMLAttr }}


<div
  class="w-full h-36 md:h-56 lg:h-72 single_hero_basic nozoom"
  style="background-image: url({{ $imageURL }});">
</div>
